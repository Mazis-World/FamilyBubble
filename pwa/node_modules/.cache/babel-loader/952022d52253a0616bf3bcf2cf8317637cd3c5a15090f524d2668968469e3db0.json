{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\FamilyBubble\\\\pwa\\\\src\\\\components\\\\auth\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { auth } from '../../firebase';\nimport { RecaptchaVerifier, signInWithPhoneNumber } from \"firebase/auth\";\nimport { Circle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onLoginSuccess\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [verificationCode, setVerificationCode] = useState('');\n  const [confirmationResult, setConfirmationResult] = useState(null);\n  const configureRecaptcha = () => {\n    window.recaptchaVerifier = new RecaptchaVerifier(auth, 'recaptcha-container', {\n      'size': 'invisible',\n      'callback': response => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        console.log(\"Recaptcha verified\");\n      }\n    });\n  };\n  const handleSendCode = async () => {\n    setLoading(true);\n    configureRecaptcha();\n    const appVerifier = window.recaptchaVerifier;\n    try {\n      const result = await signInWithPhoneNumber(auth, `+${phoneNumber}`, appVerifier);\n      setConfirmationResult(result);\n    } catch (error) {\n      console.error(\"Error sending verification code\", error);\n      alert(\"Error sending verification code. Please check the phone number and try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleVerifyCode = async () => {\n    setLoading(true);\n    try {\n      await confirmationResult.confirm(verificationCode);\n      // User signed in successfully.\n      onLoginSuccess();\n    } catch (error) {\n      console.error(\"Error verifying code\", error);\n      alert(\"Invalid verification code.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-blue-950 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-t-transparent border-blue-500 rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-blue-950 flex items-center justify-center p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"recaptcha-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-900 border border-gray-800 rounded-3xl shadow-2xl max-w-md w-full p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-purple-600/30\",\n          children: /*#__PURE__*/_jsxDEV(Circle, {\n            size: 40,\n            className: \"text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold text-white mb-2\",\n          children: \"FamilyBubble\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400\",\n          children: \"One bubble. One shared space.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), !confirmationResult ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          placeholder: \"Enter phone number with country code\",\n          value: phoneNumber,\n          onChange: e => setPhoneNumber(e.target.value),\n          className: \"w-full px-4 py-4 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-blue-600 transition-colors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendCode,\n          className: \"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-600/30 transition-all\",\n          children: \"Send Verification Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter verification code\",\n          value: verificationCode,\n          onChange: e => setVerificationCode(e.target.value),\n          className: \"w-full px-4 py-4 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-blue-600 transition-colors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleVerifyCode,\n          className: \"w-full bg-gradient-to-r from-blue-600 to-teal-500 text-white py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-blue-600/30 transition-all\",\n          children: \"Verify Code and Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"jZcWzsElAHYwEKOh14E/39gxLF8=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","auth","RecaptchaVerifier","signInWithPhoneNumber","Circle","jsxDEV","_jsxDEV","Login","onLoginSuccess","_s","loading","setLoading","phoneNumber","setPhoneNumber","verificationCode","setVerificationCode","confirmationResult","setConfirmationResult","configureRecaptcha","window","recaptchaVerifier","response","console","log","handleSendCode","appVerifier","result","error","alert","handleVerifyCode","confirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","size","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/FamilyBubble/pwa/src/components/auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { auth } from '../../firebase';\nimport { RecaptchaVerifier, signInWithPhoneNumber } from \"firebase/auth\";\nimport { Circle } from 'lucide-react';\n\nconst Login = ({ onLoginSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [verificationCode, setVerificationCode] = useState('');\n  const [confirmationResult, setConfirmationResult] = useState(null);\n\n  const configureRecaptcha = () => {\n    window.recaptchaVerifier = new RecaptchaVerifier(auth, 'recaptcha-container', {\n      'size': 'invisible',\n      'callback': (response) => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        console.log(\"Recaptcha verified\");\n      }\n    });\n  }\n\n  const handleSendCode = async () => {\n    setLoading(true);\n    configureRecaptcha();\n    const appVerifier = window.recaptchaVerifier;\n    try {\n      const result = await signInWithPhoneNumber(auth, `+${phoneNumber}`, appVerifier);\n      setConfirmationResult(result);\n    } catch (error) {\n      console.error(\"Error sending verification code\", error);\n      alert(\"Error sending verification code. Please check the phone number and try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerifyCode = async () => {\n    setLoading(true);\n    try {\n      await confirmationResult.confirm(verificationCode);\n      // User signed in successfully.\n      onLoginSuccess();\n    } catch (error) {\n      console.error(\"Error verifying code\", error);\n      alert(\"Invalid verification code.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-blue-950 flex items-center justify-center\">\n        <div className=\"w-16 h-16 border-4 border-t-transparent border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-blue-950 flex items-center justify-center p-4\">\n      <div id=\"recaptcha-container\"></div>\n      <div className=\"bg-gray-900 border border-gray-800 rounded-3xl shadow-2xl max-w-md w-full p-8\">\n        <div className=\"text-center mb-8\">\n          <div className=\"w-20 h-20 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-purple-600/30\">\n            <Circle size={40} className=\"text-white\" />\n          </div>\n          <h1 className=\"text-4xl font-bold text-white mb-2\">FamilyBubble</h1>\n          <p className=\"text-gray-400\">One bubble. One shared space.</p>\n        </div>\n\n        {!confirmationResult ? (\n          <div className=\"space-y-4\">\n            <input\n              type=\"tel\"\n              placeholder=\"Enter phone number with country code\"\n              value={phoneNumber}\n              onChange={(e) => setPhoneNumber(e.target.value)}\n              className=\"w-full px-4 py-4 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-blue-600 transition-colors\"\n            />\n            <button\n              onClick={handleSendCode}\n              className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-600/30 transition-all\"\n            >\n              Send Verification Code\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Enter verification code\"\n              value={verificationCode}\n              onChange={(e) => setVerificationCode(e.target.value)}\n              className=\"w-full px-4 py-4 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-blue-600 transition-colors\"\n            />\n            <button\n              onClick={handleVerifyCode}\n              className=\"w-full bg-gradient-to-r from-blue-600 to-teal-500 text-white py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-blue-600/30 transition-all\"\n            >\n              Verify Code and Sign In\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}