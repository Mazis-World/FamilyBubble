{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\FamilyBubble\\\\pwa\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { auth } from './firebase';\nimport MainApp from './components/bubble/MainApp';\nimport Welcome from './components/auth/Welcome';\nimport Login from './components/auth/Login';\nimport JoinBubble from './components/auth/JoinBubble';\nimport CreateBubbleFlow from './components/auth/CreateBubbleFlow';\nimport { Purchases, LogLevel } from '@revenuecat/purchases-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FamilyBubbleApp() {\n  _s();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [view, setView] = useState('welcome'); // welcome, login, join, create, main\n  const [joinToken, setJoinToken] = useState(null);\n  const [bubbleCreationData, setBubbleCreationData] = useState(null);\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  const [isLapsedSubscriber, setIsLapsedSubscriber] = useState(false);\n  useEffect(() => {\n    const initializePurchases = async user => {\n      Purchases.setLogLevel(LogLevel.DEBUG);\n      await Purchases.configure({\n        apiKey: \"test_ZUBBwQojxkZCoVcCxjqjtUdSdzr\",\n        appUserId: user.uid\n      });\n      const customerInfo = await Purchases.getSharedInstance().getCustomerInfo();\n      const premiumEntitlement = customerInfo.entitlements.active[\"FamilyBubble Premium\"];\n      const wasOnceSubscriber = customerInfo.entitlements.all[\"FamilyBubble Premium\"];\n      if (typeof premiumEntitlement !== \"undefined\") {\n        setIsSubscribed(true);\n      } else if (typeof wasOnceSubscriber !== \"undefined\") {\n        setIsLapsedSubscriber(true);\n      }\n    };\n    const unsubscribe = auth.onAuthStateChanged(async user => {\n      setCurrentUser(user);\n      setLoading(false);\n      if (user) {\n        await initializePurchases(user);\n        setView('main');\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleLogout = () => {\n    auth.signOut().then(() => {\n      Purchases.getSharedInstance().logOut();\n      setIsSubscribed(false);\n      setIsLapsedSubscriber(false);\n      setView('welcome');\n      setJoinToken(null);\n      setBubbleCreationData(null);\n    });\n  };\n  const handlePurchase = async onSuccess => {\n    try {\n      // Ensure Purchases is configured, especially for the anonymous user creation flow.\n      if (!Purchases.isConfigured()) {\n        console.log(\"Configuring Purchases for anonymous user...\");\n        const appUserId = Purchases.generateRevenueCatAnonymousAppUserId();\n        await Purchases.configure({\n          apiKey: \"test_ZUBBwQojxkZCoVcCxjqjtUdSdzr\",\n          appUserId: appUserId\n        });\n      }\n      const purchases = Purchases.getSharedInstance();\n      const offerings = await purchases.getOfferings();\n      const currentOffering = offerings.current;\n      if (!currentOffering) {\n        alert(\"No offerings found.\");\n        return;\n      }\n      const {\n        customerInfo\n      } = await purchases.presentPaywall({\n        offering: currentOffering\n      });\n      if (typeof customerInfo.entitlements.active[\"FamilyBubble Premium\"] !== \"undefined\") {\n        setIsSubscribed(true);\n        setIsLapsedSubscriber(false); // No longer a lapsed subscriber\n        if (onSuccess) {\n          onSuccess();\n        }\n      }\n    } catch (error) {\n      // Check if the error is due to the user closing the paywall.\n      // The error code for a closed paywall might vary, so we log the whole error.\n      console.error(\"Paywall presentation or purchase error:\", error);\n      // We can check for a specific string if the error code is not reliable.\n      if (error.message.includes(\"closed\")) {\n        console.log(\"Paywall closed by user.\");\n      }\n    }\n  };\n  const handleRestorePurchases = async () => {\n    try {\n      const customerInfo = await Purchases.getSharedInstance().restorePurchases();\n      const premiumEntitlement = customerInfo.entitlements.active[\"FamilyBubble Premium\"];\n      if (typeof premiumEntitlement !== \"undefined\") {\n        setIsSubscribed(true);\n        setIsLapsedSubscriber(false);\n        alert(\"Your purchases have been restored.\");\n      } else {\n        alert(\"No active subscriptions found to restore.\");\n      }\n    } catch (error) {\n      console.error(error);\n      alert(\"Failed to restore purchases. Please try again.\");\n    }\n  };\n  const handleLoginBack = () => {\n    if (joinToken) {\n      setView('join');\n    } else if (bubbleCreationData) {\n      setView('create');\n    } else {\n      setView('welcome');\n    }\n  };\n  const resetAuthFlow = () => {\n    setView('login');\n    setJoinToken(null);\n    setBubbleCreationData(null);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-blue-950 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-t-transparent border-blue-500 rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentUser) {\n    if (view === 'welcome') {\n      return /*#__PURE__*/_jsxDEV(Welcome, {\n        onLogin: resetAuthFlow,\n        onCreate: () => setView('create'),\n        onJoin: () => setView('join')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 14\n      }, this);\n    }\n    if (view === 'join') {\n      return /*#__PURE__*/_jsxDEV(JoinBubble, {\n        onJoin: token => {\n          setJoinToken(token);\n          setView('login');\n        },\n        onBack: () => setView('welcome')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 14\n      }, this);\n    }\n    if (view === 'create') {\n      return /*#__PURE__*/_jsxDEV(CreateBubbleFlow, {\n        handlePurchase: handlePurchase,\n        onComplete: data => {\n          setBubbleCreationData(data);\n          // This is a temporary fix to simulate user creation\n          // and avoid the login screen.\n          auth.signInAnonymously().then(userCredential => {\n            setCurrentUser(userCredential.user);\n            setView('main');\n          });\n        },\n        onBack: () => setView('welcome')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 14\n      }, this);\n    }\n    if (view === 'login') {\n      return /*#__PURE__*/_jsxDEV(Login, {\n        onLoginSuccess: () => setView('main'),\n        onBack: handleLoginBack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  // This screen is now only for lapsed subscribers who log in\n  if (view === 'main' && isLapsedSubscriber && !isSubscribed) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-white mb-4\",\n        children: \"Your Subscription has Expired\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 mb-8\",\n        children: \"Please renew your subscription to continue using premium features.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handlePurchase(),\n        className: \"w-full max-w-sm bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-600/30 transition-all\",\n        children: \"Renew Subscription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"mt-8 text-gray-400 text-sm hover:text-white transition-colors\",\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-950\",\n    children: /*#__PURE__*/_jsxDEV(MainApp, {\n      userId: currentUser.uid,\n      onLogout: handleLogout,\n      joinToken: joinToken,\n      bubbleCreationData: bubbleCreationData,\n      onBubbleCreated: () => setBubbleCreationData(null),\n      isSubscribed: isSubscribed,\n      onUpgrade: handlePurchase,\n      onRestorePurchases: handleRestorePurchases,\n      onInitiateCreate: () => setView('create')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n_s(FamilyBubbleApp, \"qYDMZA2geHzUF+KFvvakw90EaIs=\");\n_c = FamilyBubbleApp;\nvar _c;\n$RefreshReg$(_c, \"FamilyBubbleApp\");","map":{"version":3,"names":["React","useState","useEffect","auth","MainApp","Welcome","Login","JoinBubble","CreateBubbleFlow","Purchases","LogLevel","jsxDEV","_jsxDEV","FamilyBubbleApp","_s","currentUser","setCurrentUser","loading","setLoading","view","setView","joinToken","setJoinToken","bubbleCreationData","setBubbleCreationData","isSubscribed","setIsSubscribed","isLapsedSubscriber","setIsLapsedSubscriber","initializePurchases","user","setLogLevel","DEBUG","configure","apiKey","appUserId","uid","customerInfo","getSharedInstance","getCustomerInfo","premiumEntitlement","entitlements","active","wasOnceSubscriber","all","unsubscribe","onAuthStateChanged","handleLogout","signOut","then","logOut","handlePurchase","onSuccess","isConfigured","console","log","generateRevenueCatAnonymousAppUserId","purchases","offerings","getOfferings","currentOffering","current","alert","presentPaywall","offering","error","message","includes","handleRestorePurchases","restorePurchases","handleLoginBack","resetAuthFlow","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","onCreate","onJoin","token","onBack","onComplete","data","signInAnonymously","userCredential","onLoginSuccess","onClick","userId","onLogout","onBubbleCreated","onUpgrade","onRestorePurchases","onInitiateCreate","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/FamilyBubble/pwa/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { auth } from './firebase';\nimport MainApp from './components/bubble/MainApp';\nimport Welcome from './components/auth/Welcome';\nimport Login from './components/auth/Login';\nimport JoinBubble from './components/auth/JoinBubble';\nimport CreateBubbleFlow from './components/auth/CreateBubbleFlow';\nimport { Purchases, LogLevel } from '@revenuecat/purchases-js';\n\nexport default function FamilyBubbleApp() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [view, setView] = useState('welcome'); // welcome, login, join, create, main\n  const [joinToken, setJoinToken] = useState(null);\n  const [bubbleCreationData, setBubbleCreationData] = useState(null);\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  const [isLapsedSubscriber, setIsLapsedSubscriber] = useState(false);\n\n  useEffect(() => {\n    const initializePurchases = async (user) => {\n      Purchases.setLogLevel(LogLevel.DEBUG);\n\n      await Purchases.configure({\n        apiKey: \"test_ZUBBwQojxkZCoVcCxjqjtUdSdzr\",\n        appUserId: user.uid,\n      });\n\n      const customerInfo = await Purchases.getSharedInstance().getCustomerInfo();\n      const premiumEntitlement = customerInfo.entitlements.active[\"FamilyBubble Premium\"];\n      const wasOnceSubscriber = customerInfo.entitlements.all[\"FamilyBubble Premium\"];\n\n      if (typeof premiumEntitlement !== \"undefined\") {\n        setIsSubscribed(true);\n      } else if (typeof wasOnceSubscriber !== \"undefined\") {\n        setIsLapsedSubscriber(true);\n      }\n    };\n\n    const unsubscribe = auth.onAuthStateChanged(async user => {\n      setCurrentUser(user);\n      setLoading(false);\n\n      if (user) {\n        await initializePurchases(user);\n        setView('main');\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const handleLogout = () => {\n    auth.signOut().then(() => {\n      Purchases.getSharedInstance().logOut();\n      setIsSubscribed(false);\n      setIsLapsedSubscriber(false);\n      setView('welcome');\n      setJoinToken(null);\n      setBubbleCreationData(null);\n    });\n  };\n  \n  const handlePurchase = async (onSuccess) => {\n    try {\n      // Ensure Purchases is configured, especially for the anonymous user creation flow.\n      if (!Purchases.isConfigured()) {\n        console.log(\"Configuring Purchases for anonymous user...\");\n        const appUserId = Purchases.generateRevenueCatAnonymousAppUserId();\n        await Purchases.configure({\n          apiKey: \"test_ZUBBwQojxkZCoVcCxjqjtUdSdzr\",\n          appUserId: appUserId,\n        });\n      }\n\n      const purchases = Purchases.getSharedInstance();\n      const offerings = await purchases.getOfferings();\n      const currentOffering = offerings.current;\n      if (!currentOffering) {\n        alert(\"No offerings found.\");\n        return;\n      }\n\n      const { customerInfo } = await purchases.presentPaywall({ offering: currentOffering });\n      \n      if (typeof customerInfo.entitlements.active[\"FamilyBubble Premium\"] !== \"undefined\") {\n        setIsSubscribed(true);\n        setIsLapsedSubscriber(false); // No longer a lapsed subscriber\n        if (onSuccess) {\n          onSuccess();\n        }\n      }\n    } catch (error) {\n      // Check if the error is due to the user closing the paywall.\n      // The error code for a closed paywall might vary, so we log the whole error.\n      console.error(\"Paywall presentation or purchase error:\", error);\n      // We can check for a specific string if the error code is not reliable.\n      if (error.message.includes(\"closed\")) {\n         console.log(\"Paywall closed by user.\");\n      }\n    }\n  };\n\n  const handleRestorePurchases = async () => {\n    try {\n      const customerInfo = await Purchases.getSharedInstance().restorePurchases();\n      const premiumEntitlement = customerInfo.entitlements.active[\"FamilyBubble Premium\"];\n\n      if (typeof premiumEntitlement !== \"undefined\") {\n        setIsSubscribed(true);\n        setIsLapsedSubscriber(false);\n        alert(\"Your purchases have been restored.\");\n      } else {\n        alert(\"No active subscriptions found to restore.\");\n      }\n    } catch (error) {\n      console.error(error);\n      alert(\"Failed to restore purchases. Please try again.\");\n    }\n  };\n\n  const handleLoginBack = () => {\n    if (joinToken) {\n      setView('join');\n    } else if (bubbleCreationData) {\n      setView('create');\n    } else {\n      setView('welcome');\n    }\n  };\n\n  const resetAuthFlow = () => {\n    setView('login');\n    setJoinToken(null);\n    setBubbleCreationData(null);\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-blue-950 flex items-center justify-center\">\n        <div className=\"w-16 h-16 border-4 border-t-transparent border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (!currentUser) {\n    if (view === 'welcome') {\n      return <Welcome \n                onLogin={resetAuthFlow} \n                onCreate={() => setView('create')}\n                onJoin={() => setView('join')} \n              />;\n    }\n    if (view === 'join') {\n      return <JoinBubble \n                onJoin={(token) => { setJoinToken(token); setView('login'); }} \n                onBack={() => setView('welcome')} \n              />;\n    }\n    if (view === 'create') {\n      return <CreateBubbleFlow \n                handlePurchase={handlePurchase}\n                onComplete={(data) => {\n                  setBubbleCreationData(data);\n                  // This is a temporary fix to simulate user creation\n                  // and avoid the login screen.\n                  auth.signInAnonymously().then(userCredential => {\n                    setCurrentUser(userCredential.user);\n                    setView('main');\n                  });\n                }}\n                onBack={() => setView('welcome')}\n              />;\n    }\n    if (view === 'login') {\n      return <Login onLoginSuccess={() => setView('main')} onBack={handleLoginBack} />;\n    }\n  }\n\n  // This screen is now only for lapsed subscribers who log in\n  if (view === 'main' && isLapsedSubscriber && !isSubscribed) {\n    return (\n      <div className=\"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-6 text-center\">\n          <h1 className=\"text-3xl font-bold text-white mb-4\">Your Subscription has Expired</h1>\n          <p className=\"text-gray-400 mb-8\">Please renew your subscription to continue using premium features.</p>\n          <button\n            onClick={() => handlePurchase()}\n            className=\"w-full max-w-sm bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-600/30 transition-all\"\n          >\n            Renew Subscription\n          </button>\n           <button\n            onClick={handleLogout}\n            className=\"mt-8 text-gray-400 text-sm hover:text-white transition-colors\"\n          >\n            Sign Out\n          </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-950\">\n      <MainApp \n        userId={currentUser.uid} \n        onLogout={handleLogout} \n        joinToken={joinToken} \n        bubbleCreationData={bubbleCreationData}\n        onBubbleCreated={() => setBubbleCreationData(null)}\n        isSubscribed={isSubscribed}\n        onUpgrade={handlePurchase}\n        onRestorePurchases={handleRestorePurchases}\n        onInitiateCreate={() => setView('create')}\n      />\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}